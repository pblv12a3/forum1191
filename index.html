<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Forum</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<header class="topbar">
  <div class="brand">Forum</div>
  <div>
    <span id="userLabel"></span>
    <button id="btnLogout" class="hidden">Logout</button>
  </div>
</header>

<main class="container">

  <!-- AUTH -->
  <section id="authCard">
    <h2>Login / Register</h2>
    <input id="email" placeholder="Email" />
    <input id="password" type="password" placeholder="Password" />
    <button id="btnLogin">Login</button>
    <button id="btnRegister">Register</button>
    <div id="authMsg"></div>
  </section>

  <!-- PROFILE -->
  <section id="profileCard" class="hidden">
    <h2>Create profile</h2>
    <input id="profileUsername" placeholder="Username" />
    <input id="profilePhotoUrl" placeholder="Avatar URL (optional)" />
    <button id="btnSaveProfile">Save profile</button>
    <div id="profileMsg"></div>
  </section>

  <!-- POST -->
  <section id="composerCard" class="hidden">
    <h2>New post</h2>
    <input id="postTitle" placeholder="Title" />
    <textarea id="postBody" placeholder="Text"></textarea>
    <input id="imageUrl" placeholder="Image URL (optional)" />
    <input id="videoUrl" placeholder="Video URL (optional)" />
    <button id="btnPublish">Publish</button>
    <div id="publishMsg"></div>
  </section>

  <!-- FEED -->
  <section id="feed" class="hidden">
    <h2>Posts</h2>
    <div id="posts"></div>
  </section>

</main>

<!-- ðŸ”¥ GUARANTEED LOADER -->
<script type="module">
  // visible marker so you KNOW this file is live
  document.body.insertAdjacentHTML(
    "beforeend",
    '<div style="position:fixed;bottom:8px;right:8px;background:black;color:#0f0;padding:6px;font:12px monospace;z-index:9999">index.html v1</div>'
  );

  // crash â†’ uhoh.html
  window.addEventListener("error", () => location.href = "uhoh.html");
  window.addEventListener("unhandledrejection", () => location.href = "uhoh.html");

  // load app
  import "./app_v2.js?v=FINAL";
</script>

</body>
</html>

